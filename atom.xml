<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>My Blog</title>
  
  
  <link href="https://archgu.github.io/atom.xml" rel="self"/>
  
  <link href="https://archgu.github.io/"/>
  <updated>2023-02-10T14:29:09.990Z</updated>
  <id>https://archgu.github.io/</id>
  
  <author>
    <name>Arch Gu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Spacevim备份</title>
    <link href="https://archgu.github.io/2023/02/10/spacevim/"/>
    <id>https://archgu.github.io/2023/02/10/spacevim/</id>
    <published>2023-02-10T14:26:15.623Z</published>
    <updated>2023-02-10T14:29:09.990Z</updated>
    
    <content type="html"><![CDATA[<p>Spacevim配置文件为：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/.config/nvim ~/.SpaceVim的链接</span></span><br><span class="line"><span class="comment"># ~/.cache/vim</span></span><br><span class="line"><span class="comment"># ~/.cache/vimfiles/repos github插件存储位置</span></span><br><span class="line"><span class="comment"># ~/.cache/SpaceVim</span></span><br><span class="line"><span class="comment"># ~/.SpaceVim spacevim 主体文件</span></span><br><span class="line"><span class="comment"># ~/.SpaceVim.d/init.toml 配置文件</span></span><br><span class="line"><span class="comment"># ~/.vim ~/.SpaceVim的链接</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Spacevim配置文件为：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ~/.config/n</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Manjaro</title>
    <link href="https://archgu.github.io/2023/02/10/manjaro/"/>
    <id>https://archgu.github.io/2023/02/10/manjaro/</id>
    <published>2023-02-10T14:20:25.054Z</published>
    <updated>2023-02-11T01:57:48.056Z</updated>
    
    <content type="html"><![CDATA[<p>使用ventory安装后,开始配置</p><p>原则:开发环境与系统隔离，系统保持最简单安装（KISS原则的一个解释）</p><h2 id="源设置"><a href="#源设置" class="headerlink" title="源设置"></a>源设置</h2><p>官方源</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></table></figure><p>archlinuxcn镜像源</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /etc/pacman.conf</span></span><br><span class="line">[archlinuxcn]</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure><p>刷新数据库</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -Syy</span><br><span class="line">pacman -S archlinuxcn-keyring</span><br></pre></td></tr></table></figure><p>Note:该源对应Manjaro unstable分支，注意兼容问题</p><h2 id="区域设置"><a href="#区域设置" class="headerlink" title="区域设置"></a>区域设置</h2><p>Gnome与ibus适配</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S manjaro-asian-input-support-ibus ibus-libpinyin</span><br></pre></td></tr></table></figure><p>KDE与fcitx5适配</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S manjaro-asian-input-support-fcitx5</span><br><span class="line">pacman -S fcitx5-chinese-addons</span><br><span class="line">pacman -S fcitx5-material-color</span><br><span class="line">pacman -S fcitx5-pinyin-zhwiki</span><br></pre></td></tr></table></figure><p>设置环境变量</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /etc/profile</span></span><br><span class="line"><span class="comment"># ～/.xprofile</span></span><br><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=输入法名</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">&quot;@im=输入法名&quot;</span></span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=输入法名</span><br></pre></td></tr></table></figure><p>配置fcitx5 material主题</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/.config/fcitx5/conf/classicui.conf</span></span><br><span class="line"><span class="comment"># 垂直候选列表</span></span><br><span class="line">Vertical Candidate List=False</span><br><span class="line"><span class="comment"># 按屏幕 DPI 使用</span></span><br><span class="line">PerScreenDPI=True</span><br><span class="line"><span class="comment"># Font (设置成你喜欢的字体)</span></span><br><span class="line">Font=<span class="string">&quot;Microsoft YaHei UI 14&quot;</span></span><br><span class="line"><span class="comment"># 主题</span></span><br><span class="line">Theme=Material-Color-Black</span><br></pre></td></tr></table></figure><p>字体</p><p>将Windows下的字体文件放到一个文件夹中，然后放入注释的目录中，切换到新的文件夹后，执行命令</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /usr/share/fonts/*</span></span><br><span class="line">mkfontscale</span><br><span class="line">mkfontdir</span><br><span class="line">fc-cache -fv</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;使用ventory安装后,开始配置&lt;/p&gt;
&lt;p&gt;原则:开发环境与系统隔离，系统保持最简单安装（KISS原则的一个解释）&lt;/p&gt;
&lt;h2 id=&quot;源设置&quot;&gt;&lt;a href=&quot;#源设置&quot; class=&quot;headerlink&quot; title=&quot;源设置&quot;&gt;&lt;/a&gt;源设置&lt;/h2&gt;&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Gentoo配置备份</title>
    <link href="https://archgu.github.io/2023/02/10/gentoo_confbk/"/>
    <id>https://archgu.github.io/2023/02/10/gentoo_confbk/</id>
    <published>2023-02-10T14:17:31.585Z</published>
    <updated>2023-02-10T14:19:40.194Z</updated>
    
    <content type="html"><![CDATA[<p>CPU:R5 2500U</p><p>GPU:核显</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## /etc/portage/make.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># These settings were set by the catalyst build script that automatically</span></span><br><span class="line"><span class="comment"># built this stage.</span></span><br><span class="line"><span class="comment"># Please consult /usr/share/portage/config/make.conf.example for a more</span></span><br><span class="line"><span class="comment"># detailed example.</span></span><br><span class="line">COMMON_FLAGS=<span class="string">&quot;-march=native -O2 -pipe&quot;</span></span><br><span class="line">CFLAGS=<span class="string">&quot;<span class="variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span></span><br><span class="line">CXXFLAGS=<span class="string">&quot;<span class="variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span></span><br><span class="line">FCFLAGS=<span class="string">&quot;<span class="variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span></span><br><span class="line">FFLAGS=<span class="string">&quot;<span class="variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span></span><br><span class="line">MAKEOPTS=<span class="string">&quot;-j3&quot;</span></span><br><span class="line">VIDEO_CARDS=<span class="string">&quot;amdgpu radeonsi&quot;</span></span><br><span class="line">INPUT_DEVICES=<span class="string">&quot;evdev synaptics&quot;</span></span><br><span class="line">L10N=<span class="string">&quot;en-US zh-CN en zh&quot;</span></span><br><span class="line">LANGUAS=<span class="string">&quot;en-US zh_CN en zh&quot;</span></span><br><span class="line">AUTO_CLEAN=<span class="string">&quot;yes&quot;</span></span><br><span class="line">GENTOO_MIRRORS=<span class="string">&quot;https://mirrors.tuna.tsinghua.edu.cn/gentoo&quot;</span></span><br><span class="line">ACCEPT_KEYWORDS=<span class="string">&quot;amd64&quot;</span></span><br><span class="line">ACCEPT_LICENSE=<span class="string">&quot;*&quot;</span></span><br><span class="line">CHOST=<span class="string">&quot;x86_64-pc-linux-gnu&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bluetooth concheck connection-sharing gtk-doc introspection modemmanager nss policykit ppp systemd tools wext wifi</span></span><br><span class="line">USE=<span class="string">&quot;X ccache acpi iptables openmp dhcp bluetooth introspection modemmanager nss policykit systemd tools concheck udev wifi \</span></span><br><span class="line"><span class="string">efi network networkmanager jack connection-sharing ppp udisk dbus cjk sudo alsa python xorg xcsecurity  unwind suid tcl \</span></span><br><span class="line"><span class="string">jpeg2k positioning quick qml gd corefonts mtp unicode contrib pulseaudio&quot;</span></span><br><span class="line">FEATURES=<span class="string">&quot;ccache buildpkg preserve-libs&quot;</span></span><br><span class="line">CCACHE_DIR=<span class="string">&quot;/var/cache/ccache&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> This stage was built with the bindist Use flag enabled</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This sets the language of build output to English.</span></span><br><span class="line"><span class="comment"># Please keep this setting intact when reporting bugs.</span></span><br><span class="line">LC_MESSAGES=C</span><br><span class="line">GRUB_PLATFORMS=<span class="string">&quot;efi-64&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;CPU:R5 2500U&lt;/p&gt;
&lt;p&gt;GPU:核显&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Gentoo系统备份</title>
    <link href="https://archgu.github.io/2023/02/10/gentoo_rc/"/>
    <id>https://archgu.github.io/2023/02/10/gentoo_rc/</id>
    <published>2023-02-10T14:13:15.157Z</published>
    <updated>2023-02-10T14:16:49.714Z</updated>
    
    <content type="html"><![CDATA[<p>备份以快速恢复</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1. 内核配置文件: /usr/src/linux/.config  <span class="comment">## 方便重新配置内核</span></span><br><span class="line">2. 文件安装配置: /etc/portage/make.conf以及 /etc/portage/package.* <span class="comment">## 方便配置USE flag</span></span><br><span class="line">3. 已安装文件列表: /var/lib/portage/world  <span class="comment">##方便emerge -avuDN world</span></span><br><span class="line">4. X的配置文件:  /etc/X11/xorg.conf   <span class="comment">##方便配置鼠标，显示器</span></span><br><span class="line">5. 磁盘挂载配置文件: /etc/fstab  <span class="comment">##挂载</span></span><br><span class="line">6. grub启动配置文件: /boot/grub/grub.cfg  <span class="comment">##分区启动</span></span><br><span class="line">7. ~/bashrc, ~/.xinitrc ....</span><br><span class="line">8.二进制包;/var/cache/binpkgs/ <span class="comment">#XAPK Or GAPK</span></span><br><span class="line">9.源文件: /var/cache/distfiles/</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;备份以快速恢复&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1. 内核配置文件: /usr/src/linux/.config  &lt;span c</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CCache编译缓存器</title>
    <link href="https://archgu.github.io/2023/02/10/ccache/"/>
    <id>https://archgu.github.io/2023/02/10/ccache/</id>
    <published>2023-02-10T14:09:08.250Z</published>
    <updated>2023-02-10T14:12:07.256Z</updated>
    
    <content type="html"><![CDATA[<p>用于gentoo portage加速编译</p><p>配置make.conf</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /etc/portage/make.conf</span></span><br><span class="line"><span class="comment"># 为portage开启编译缓存器</span></span><br><span class="line">FEATURES=<span class="string">&quot;ccache&quot;</span></span><br><span class="line">CCACHE_DIR=<span class="string">&quot;/var/cache/ccache&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># May be needed to workaround a bug, but has some security implications</span></span><br><span class="line"><span class="comment"># https://bugs.gentoo.org/492910</span></span><br><span class="line"><span class="comment">#CCACHE_UMASK=&quot;0002&quot;</span></span><br></pre></td></tr></table></figure><p>配置ccache.conf</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /var/cache/ccache/ccache.conf</span></span><br><span class="line"><span class="comment"># Maximum cache size to maintain</span></span><br><span class="line">max_size = 100.0G</span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow others to run &#x27;ebuild&#x27; and share the cache.</span></span><br><span class="line"><span class="built_in">umask</span> = 002</span><br><span class="line"></span><br><span class="line"><span class="comment"># Don&#x27;t include the current directory when calculating</span></span><br><span class="line"><span class="comment"># hashes for the cache. This allows re-use of the cache</span></span><br><span class="line"><span class="comment"># across different package versions, at the cost of</span></span><br><span class="line"><span class="comment"># slightly incorrect paths in debugging info.</span></span><br><span class="line"><span class="comment"># https://ccache.dev/manual/4.4.html#_performance</span></span><br><span class="line">hash_dir = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Preserve cache across GCC rebuilds and</span></span><br><span class="line"><span class="comment"># introspect GCC changes through GCC wrapper.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># We use -dumpversion here instead of -v,</span></span><br><span class="line"><span class="comment"># see https://bugs.gentoo.org/872971.</span></span><br><span class="line">compiler_check = %compiler% -dumpversion</span><br><span class="line"></span><br><span class="line"><span class="comment"># I expect 1.5M files. 300 files per directory.</span></span><br><span class="line">cache_dir_levels = 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># Logging setup is optional</span></span><br><span class="line"><span class="comment"># Portage runs various phases as different users</span></span><br><span class="line"><span class="comment"># so beware of setting a log_file path here: the file</span></span><br><span class="line"><span class="comment"># should already exist and be writable by at least</span></span><br><span class="line"><span class="comment"># root and portage. If a log_file path is set, don&#x27;t</span></span><br><span class="line"><span class="comment"># forget to set up log rotation!</span></span><br><span class="line"><span class="comment"># log_file = /var/log/ccache.log</span></span><br><span class="line"><span class="comment"># Alternatively, log to syslog</span></span><br><span class="line"><span class="comment"># log_file = syslog</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;用于gentoo portage加速编译&lt;/p&gt;
&lt;p&gt;配置make.conf&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span clas</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Timeshift备份</title>
    <link href="https://archgu.github.io/2023/02/10/timeshift/"/>
    <id>https://archgu.github.io/2023/02/10/timeshift/</id>
    <published>2023-02-10T14:05:05.856Z</published>
    <updated>2023-02-10T14:08:33.182Z</updated>
    
    <content type="html"><![CDATA[<p>timeshift有两种备份方式：</p><p>1.rsync，有点像复制粘贴备份，比较无脑</p><p>2.btrfs文件系统的一个特性，启用该备份方式必须在Linux安装阶段就开始配置，不然比较麻烦。</p><p>首先创建btrfs文件系统后，挂载分区并进入分区的根目录创建子卷：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">btrfs subvolume create ./@ <span class="comment">#挂载点为/</span></span><br></pre></td></tr></table></figure><p>home分区同上：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">btrfs subvolume create ./@home <span class="comment">#挂载点为/home</span></span><br></pre></td></tr></table></figure><p>chroot时需挂载子卷，具体原因见FHS（LInux文件目录标准）：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mount -t btrfs -o subvol=/@ ...</span><br><span class="line">mount -t btrfs -o subvol=/@home ...</span><br></pre></td></tr></table></figure><p>同样，&#x2F;etc&#x2F;fstab也需挂载子卷。<br>安装好系统后再配置时需要重新配置grub，并移动大量的文件，这就是本文开始时说明的麻烦的地方。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;timeshift有两种备份方式：&lt;/p&gt;
&lt;p&gt;1.rsync，有点像复制粘贴备份，比较无脑&lt;/p&gt;
&lt;p&gt;2.btrfs文件系统的一个特性，启用该备份方式必须在Linux安装阶段就开始配置，不然比较麻烦。&lt;/p&gt;
&lt;p&gt;首先创建btrfs文件系统后，挂载分区并进入分区的</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://archgu.github.io/2023/02/10/hello-world/"/>
    <id>https://archgu.github.io/2023/02/10/hello-world/</id>
    <published>2023-02-10T12:03:40.375Z</published>
    <updated>2023-02-10T12:03:40.375Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
